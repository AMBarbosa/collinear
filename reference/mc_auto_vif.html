<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Warning: input predictors with a pairwise correlation very close to 1 might create issues during VIF computation. If that's the case, please apply mc_auto_cor() before.
Warning: near-zero variance columns are ignored by this function.
The Variance Inflation Factor for a given variable y is computed as 1/(1-R2), where R2 is the multiple R-squared of a multiple regression model fitted using y as response and all the remaining variables of the input data set as predictors. The equation can be interpreted as &quot;the rate of perfect model's R-squared to the unexplained variance of this model&quot;.
The possible range of VIF values is (1, Inf]. A VIF lower than 10 suggest that removing y from the data set would reduce overall multicollinearity. The recommended thresholds for maximum VIF may vary depending on the source consulted, being the most common values, 2.5, 5, and 10.
The function mc_auto_vif() applies a recursive algorithm to remove variables with a VIF higher than a given threshold (defined by the argument max.vif).
The function allows the user to define a preference selection order via the argument preference.order. This argument helps &quot;protect&quot; variables that might be interesting or even required for the given analysis. Please, see the examples to understand better how this feature works."><title>Automated multicollinearity reduction via Variance Inflation Factor — mc_auto_vif • collinear</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Automated multicollinearity reduction via Variance Inflation Factor — mc_auto_vif"><meta property="og:description" content="Warning: input predictors with a pairwise correlation very close to 1 might create issues during VIF computation. If that's the case, please apply mc_auto_cor() before.
Warning: near-zero variance columns are ignored by this function.
The Variance Inflation Factor for a given variable y is computed as 1/(1-R2), where R2 is the multiple R-squared of a multiple regression model fitted using y as response and all the remaining variables of the input data set as predictors. The equation can be interpreted as &quot;the rate of perfect model's R-squared to the unexplained variance of this model&quot;.
The possible range of VIF values is (1, Inf]. A VIF lower than 10 suggest that removing y from the data set would reduce overall multicollinearity. The recommended thresholds for maximum VIF may vary depending on the source consulted, being the most common values, 2.5, 5, and 10.
The function mc_auto_vif() applies a recursive algorithm to remove variables with a VIF higher than a given threshold (defined by the argument max.vif).
The function allows the user to define a preference selection order via the argument preference.order. This argument helps &quot;protect&quot; variables that might be interesting or even required for the given analysis. Please, see the examples to understand better how this feature works."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">collinear</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Automated multicollinearity reduction via Variance Inflation Factor</h1>
      
      <div class="d-none name"><code>mc_auto_vif.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Warning: input predictors with a pairwise correlation very close to 1 might create issues during VIF computation. If that's the case, please apply <code><a href="mc_auto_cor.html">mc_auto_cor()</a></code> before.</p>
<p>Warning: near-zero variance columns are ignored by this function.</p>
<p>The Variance Inflation Factor for a given variable <code>y</code> is computed as <code>1/(1-R2)</code>, where <code>R2</code> is the multiple R-squared of a multiple regression model fitted using <code>y</code> as response and all the remaining variables of the input data set as predictors. The equation can be interpreted as "the rate of perfect model's R-squared to the unexplained variance of this model".</p>
<p>The possible range of VIF values is (1, Inf]. A VIF lower than 10 suggest that removing <code>y</code> from the data set would reduce overall multicollinearity. The recommended thresholds for maximum VIF may vary depending on the source consulted, being the most common values, 2.5, 5, and 10.</p>
<p>The function <code>mc_auto_vif()</code> applies a recursive algorithm to remove variables with a VIF higher than a given threshold (defined by the argument <code>max.vif</code>).</p>
<p>The function allows the user to define a preference selection order via the argument <code>preference.order</code>. This argument helps "protect" variables that might be interesting or even required for the given analysis. Please, see the examples to understand better how this feature works.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">mc_auto_vif</span><span class="op">(</span></span>
<span>  data <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  predictors <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  preference.order <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  max.vif <span class="op">=</span> <span class="fl">5</span>,</span>
<span>  verbose <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>data</dt>
<dd><p>(required; data.frame or tibble) A data frame, tibble, or sf. Default: <code>NULL</code>.</p></dd>


<dt>predictors</dt>
<dd><p>(optional; character vector) Character vector with the names of the predictive variables. Every element of this vector must be in the column names of <code>data</code>. Default: <code>NULL</code></p></dd>


<dt>preference.order</dt>
<dd><p>(optional, character vector) Character vector indicating the preference order to protect variables from elimination.  Predictors not included in this argument are ranked by their VIFs. Default: <code>NULL</code>.</p></dd>


<dt>max.vif</dt>
<dd><p>(optional, numeric) Numeric with recommended values between 2.5 and 10 defining the maximum VIF allowed in the output dataset. Higher VIF thresholds should result in a higher number of selected variables. Default: <code>5</code>.</p></dd>


<dt>verbose</dt>
<dd><p>(optional, logical) Set to <code>FALSE</code> to silence messages. Default: <code>TRUE</code></p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Character vector with the names of uncorrelated predictors.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><code><a href="mc_auto_cor.html">mc_auto_cor()</a></code></p></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw">if</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/interactive.html" class="external-link">interactive</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">ecoregions</span>,</span></span>
<span class="r-in"><span>  <span class="va">ecoregions_continuous_response</span>,</span></span>
<span class="r-in"><span>  <span class="va">ecoregions_predictors</span>,</span></span>
<span class="r-in"><span>  <span class="va">ecoregions_all_predictors</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#NUMERIC PREDICTORS ONLY</span></span></span>
<span class="r-in"><span><span class="co">################################</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#automatic VIF reduction with low max.vif</span></span></span>
<span class="r-in"><span><span class="co">#-------------------------------</span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span> <span class="op">&lt;-</span> <span class="fu">mc_auto_vif</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">ecoregions</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">ecoregions_predictors</span>,</span></span>
<span class="r-in"><span>  max.vif <span class="op">=</span> <span class="fl">2</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#check vif of the resulting dataset</span></span></span>
<span class="r-in"><span><span class="co">#variance inflation factor</span></span></span>
<span class="r-in"><span><span class="fu">vif</span><span class="op">(</span>data <span class="op">=</span> <span class="va">ecoregions</span><span class="op">[</span>, <span class="va">selected.predictors</span><span class="op">]</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#a small number of predictors is selected</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">selected.predictors</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#automatic VIF reduction with high max.vif</span></span></span>
<span class="r-in"><span><span class="co">#-------------------------------</span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span> <span class="op">&lt;-</span> <span class="fu">mc_auto_vif</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">ecoregions</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">ecoregions_predictors</span>,</span></span>
<span class="r-in"><span>  max.vif <span class="op">=</span> <span class="fl">10</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#a larger number of predictors is selected</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="va">selected.predictors</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#supervised VIF reduction</span></span></span>
<span class="r-in"><span><span class="co">#------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">#1. Notice that "fragmentation_ca" is selected</span></span></span>
<span class="r-in"><span><span class="co">#even though it has the maximum VIF in the dataset</span></span></span>
<span class="r-in"><span><span class="co">#2. "climate_bio12_average" is excluded from the result</span></span></span>
<span class="r-in"><span><span class="co">#because it's highly correlated to "climate_bio1_average"</span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span> <span class="op">&lt;-</span> <span class="fu">mc_auto_vif</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">ecoregions</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">ecoregions_predictors</span>,</span></span>
<span class="r-in"><span>  preference.order <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="st">"fragmentation_ca"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"climate_bio1_average"</span>,</span></span>
<span class="r-in"><span>    <span class="st">"climate_bio12_average"</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#using quantitative criteria as preference.order</span></span></span>
<span class="r-in"><span><span class="co">#-----------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">#computing univariate correlation between each predictor and the response</span></span></span>
<span class="r-in"><span><span class="va">preference.order</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/apply.html" class="external-link">apply</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  X <span class="op">=</span> <span class="va">ecoregions</span><span class="op">[</span>, <span class="va">ecoregions_predictors</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>  MARGIN <span class="op">=</span> <span class="fl">2</span>,</span></span>
<span class="r-in"><span>  FUN <span class="op">=</span> <span class="kw">function</span><span class="op">(</span><span class="va">x</span><span class="op">)</span><span class="op">{</span></span></span>
<span class="r-in"><span>    <span class="fu"><a href="https://rdrr.io/r/stats/cor.html" class="external-link">cor</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>      x <span class="op">=</span> <span class="va">x</span>,</span></span>
<span class="r-in"><span>      y <span class="op">=</span> <span class="va">ecoregions</span><span class="op">[</span>, <span class="va">ecoregions_continuous_response</span><span class="op">]</span></span></span>
<span class="r-in"><span>      <span class="op">)</span></span></span>
<span class="r-in"><span>    <span class="op">}</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#sorting from maximum to minimum and getting names only</span></span></span>
<span class="r-in"><span><span class="va">preference.order</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="fu"><a href="https://rdrr.io/r/base/sort.html" class="external-link">sort</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>    <span class="va">preference.order</span>,</span></span>
<span class="r-in"><span>    decreasing <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span>    <span class="op">)</span></span></span>
<span class="r-in"><span>  <span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#using it in mc_auto_vif as preference.order</span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span> <span class="op">&lt;-</span> <span class="fu">mc_auto_vif</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">ecoregions</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">ecoregions_predictors</span>,</span></span>
<span class="r-in"><span>  preference.order <span class="op">=</span> <span class="va">preference.order</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#using mc_auto_vif and mc_auto_cor together</span></span></span>
<span class="r-in"><span><span class="co">#-----------------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">mc_auto_cor.result</span> <span class="op">&lt;-</span> <span class="fu"><a href="mc_auto_cor.html">mc_auto_cor</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">ecoregions</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">ecoregions_predictors</span>,</span></span>
<span class="r-in"><span>  preference.order <span class="op">=</span> <span class="va">preference.order</span>,</span></span>
<span class="r-in"><span>  max.cor <span class="op">=</span> <span class="fl">0.75</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span> <span class="op">&lt;-</span> <span class="fu">mc_auto_vif</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">ecoregions</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">mc_auto_cor.result</span>,</span></span>
<span class="r-in"><span>  preference.order <span class="op">=</span> <span class="va">preference.order</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#NUMERIC AND CATEGORICAL PREDICTORS</span></span></span>
<span class="r-in"><span><span class="co">#-----------------------------------</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#there are two categorial predictors in the dataset below</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">ecoregions</span><span class="op">$</span><span class="va">dominant_landcover</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/base/class.html" class="external-link">class</a></span><span class="op">(</span><span class="va">ecoregions</span><span class="op">$</span><span class="va">primary_productivity</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#these variables are included in the vector ecoregions_all_predictors</span></span></span>
<span class="r-in"><span><span class="va">ecoregions_all_predictors</span><span class="op">[</span><span class="fl">45</span><span class="op">:</span><span class="fl">46</span><span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#automatic VIF reduction using target-encoding for categorical predictors</span></span></span>
<span class="r-in"><span><span class="co">#---------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="co">#requires the name of the response to compute the target-encoding</span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span> <span class="op">&lt;-</span> <span class="fu">mc_auto_vif</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">ecoregions</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">ecoregions_all_predictors</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#both categorical predictors have been selected</span></span></span>
<span class="r-in"><span><span class="va">ecoregions_all_predictors</span><span class="op">[</span><span class="fl">45</span><span class="op">:</span><span class="fl">46</span><span class="op">]</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">selected.predictors</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#applying target-encoding before vif</span></span></span>
<span class="r-in"><span><span class="co">#---------------------------------------------------</span></span></span>
<span class="r-in"><span><span class="va">data.encoded</span> <span class="op">&lt;-</span> <span class="fu"><a href="fe_target_encoding.html">fe_target_encoding</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">ecoregions</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">ecoregions_all_predictors</span>,</span></span>
<span class="r-in"><span>  methods <span class="op">=</span> <span class="st">"mean"</span>,</span></span>
<span class="r-in"><span>  replace <span class="op">=</span> <span class="cn">TRUE</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#now the function does not require the response's name</span></span></span>
<span class="r-in"><span><span class="va">selected.predictors</span> <span class="op">&lt;-</span> <span class="fu">mc_auto_vif</span><span class="op">(</span></span></span>
<span class="r-in"><span>  data <span class="op">=</span> <span class="va">data.encoded</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">ecoregions_all_predictors</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#both categorical predictors have been selected again</span></span></span>
<span class="r-in"><span><span class="va">ecoregions_all_predictors</span><span class="op">[</span><span class="fl">45</span><span class="op">:</span><span class="fl">46</span><span class="op">]</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="va">selected.predictors</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="op">}</span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Blas Benito.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

