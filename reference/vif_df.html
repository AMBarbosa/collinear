<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><meta name="description" content="Computes the Variance Inflation Factor of all variables in a training data frame.
Warning: predictors with perfect correlation might cause errors, please use cor_select() to remove perfect correlations first.
The Variance Inflation Factor for a given variable y is computed as 1/(1-R2), where R2 is the multiple R-squared of a multiple regression model fitted using y as response and all the remaining variables of the input data set as predictors. The equation can be interpreted as &quot;the rate of perfect model's R-squared to the unexplained variance of this model&quot;.
The possible range of VIF values is (1, Inf]. A VIF lower than 10 suggest that removing y from the data set would reduce overall multicollinearity.
This function computes the Variance Inflation Factor (VIF) in two steps:
Applies \link[base]{solve} to obtain the precision matrix, which is the inverse of the covariance matrix.
Uses \link[base]{diag} to extract the diagonal of the precision matrix, which contains the variance of the prediction of each predictor from all other predictors.

"><title>Variance Inflation Factor — vif_df • collinear</title><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Variance Inflation Factor — vif_df"><meta property="og:description" content="Computes the Variance Inflation Factor of all variables in a training data frame.
Warning: predictors with perfect correlation might cause errors, please use cor_select() to remove perfect correlations first.
The Variance Inflation Factor for a given variable y is computed as 1/(1-R2), where R2 is the multiple R-squared of a multiple regression model fitted using y as response and all the remaining variables of the input data set as predictors. The equation can be interpreted as &quot;the rate of perfect model's R-squared to the unexplained variance of this model&quot;.
The possible range of VIF values is (1, Inf]. A VIF lower than 10 suggest that removing y from the data set would reduce overall multicollinearity.
This function computes the Variance Inflation Factor (VIF) in two steps:
Applies \link[base]{solve} to obtain the precision matrix, which is the inverse of the covariance matrix.
Uses \link[base]{diag} to extract the diagonal of the precision matrix, which contains the variance of the prediction of each predictor from all other predictors.

"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">collinear</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.1.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"></ul></div>

    
  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Variance Inflation Factor</h1>
      
      <div class="d-none name"><code>vif_df.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Computes the Variance Inflation Factor of all variables in a training data frame.</p>
<p>Warning: predictors with perfect correlation might cause errors, please use <code><a href="cor_select.html">cor_select()</a></code> to remove perfect correlations first.</p>
<p>The Variance Inflation Factor for a given variable <code>y</code> is computed as <code>1/(1-R2)</code>, where <code>R2</code> is the multiple R-squared of a multiple regression model fitted using <code>y</code> as response and all the remaining variables of the input data set as predictors. The equation can be interpreted as "the rate of perfect model's R-squared to the unexplained variance of this model".</p>
<p>The possible range of VIF values is (1, Inf]. A VIF lower than 10 suggest that removing <code>y</code> from the data set would reduce overall multicollinearity.</p>
<p>This function computes the Variance Inflation Factor (VIF) in two steps:</p><ul><li><p>Applies <code>\link[base]{solve}</code> to obtain the precision matrix, which is the inverse of the covariance matrix.</p></li>
<li><p>Uses <code>\link[base]{diag}</code> to extract the diagonal of the precision matrix, which contains the variance of the prediction of each predictor from all other predictors.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">vif_df</span><span class="op">(</span>df <span class="op">=</span> <span class="cn">NULL</span>, response <span class="op">=</span> <span class="cn">NULL</span>, predictors <span class="op">=</span> <span class="cn">NULL</span>, encoding_method <span class="op">=</span> <span class="st">"mean"</span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>
    <dl><dt>df</dt>
<dd><p>(required; data frame) A data frame with numeric and/or character predictors predictors, and optionally, a response variable. Default: NULL.</p></dd>


<dt>response</dt>
<dd><p>(recommended, character string) Name of a numeric response variable. Character response variables are ignored. Please, see 'Details' to better understand how providing this argument or not leads to different results when there are character variables in 'predictors'. Default: NULL.</p></dd>


<dt>predictors</dt>
<dd><p>(optional; character vector) character vector with predictor names in 'df'. If omitted, all columns of 'df' are used as predictors. Default:'NULL'</p></dd>


<dt>encoding_method</dt>
<dd><p>(optional; character string). Name of the target encoding method to convert character and factor predictors to numeric. One of "mean", "rank", "loo", "rnorm" (see <code><a href="target_encoding_lab.html">target_encoding_lab()</a></code> for further details). Default: "mean"</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    

<p>Data frame with predictor names and VIF values</p>
    </div>
    <div class="section level2">
    <h2 id="author">Author<a class="anchor" aria-label="anchor" href="#author"></a></h2>
    <p>Blas M. Benito</p><ul><li><p>David A. Belsley, D.A., Kuh, E., Welsch, R.E. (1980). Regression Diagnostics: Identifying Influential Data and Sources of Collinearity. John Wiley &amp; Sons. <a href="https://doi.org/10.1002/0471725153" class="external-link">doi:10.1002/0471725153</a>
.</p></li>
</ul></div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  <span class="va">vi</span>,</span></span>
<span class="r-in"><span>  <span class="va">vi_predictors</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#subset to limit example run time</span></span></span>
<span class="r-in"><span><span class="va">vi</span> <span class="op">&lt;-</span> <span class="va">vi</span><span class="op">[</span><span class="fl">1</span><span class="op">:</span><span class="fl">1000</span>, <span class="op">]</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#reduce correlation in predictors with cor_select()</span></span></span>
<span class="r-in"><span><span class="va">vi_predictors</span> <span class="op">&lt;-</span> <span class="fu"><a href="cor_select.html">cor_select</a></span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">vi</span>,</span></span>
<span class="r-in"><span>  response <span class="op">=</span> <span class="st">"vi_mean"</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">vi_predictors</span>,</span></span>
<span class="r-in"><span>  max_cor <span class="op">=</span> <span class="fl">0.75</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#without response</span></span></span>
<span class="r-in"><span><span class="co">#only numeric predictors are returned</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">vif_df</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">vi</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">vi_predictors</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      variable    vif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1                   soil_clay  1.392</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2              topo_diversity  1.582</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3                 country_gdp  1.833</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                  topo_slope  1.841</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                   soil_silt  1.968</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          country_population  1.999</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                    soil_soc  2.615</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                rainfall_min  2.789</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9              rainfall_range  3.034</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10             humidity_range  3.242</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                  swi_range  3.287</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12             topo_elevation  3.570</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                    swi_min  3.890</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14              soil_nitrogen  4.149</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15 growing_season_temperature  4.594</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16          cloud_cover_range  4.773</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17    temperature_seasonality  6.025</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18              solar_rad_max  6.622</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19            temperature_max  8.678</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20            cloud_cover_min  8.871</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21               humidity_max  9.117</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22             solar_rad_mean 10.467</span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co">#with response</span></span></span>
<span class="r-in"><span><span class="co">#categorical and numeric predictors are returned</span></span></span>
<span class="r-in"><span><span class="va">df</span> <span class="op">&lt;-</span> <span class="fu">vif_df</span><span class="op">(</span></span></span>
<span class="r-in"><span>  df <span class="op">=</span> <span class="va">vi</span>,</span></span>
<span class="r-in"><span>  response <span class="op">=</span> <span class="st">"vi_mean"</span>,</span></span>
<span class="r-in"><span>  predictors <span class="op">=</span> <span class="va">vi_predictors</span></span></span>
<span class="r-in"><span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">df</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>                      variable    vif</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 1              country_income  1.331</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 2                   soil_clay  1.441</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 3              topo_diversity  1.616</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 4                  topo_slope  1.884</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 5                 country_gdp  1.932</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 6          country_population  2.177</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 7                   soil_silt  2.199</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 8                   continent  2.327</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 9                    soil_soc  2.689</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 10               rainfall_min  2.806</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 11                  soil_type  3.174</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 12             rainfall_range  3.242</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 13                  subregion  3.361</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 14             humidity_range  3.471</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 15               biogeo_realm  3.611</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 16             topo_elevation  3.675</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 17              soil_nitrogen  4.286</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 18                  swi_range  4.647</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 19                    swi_min  4.769</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 20               koppen_group  4.923</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 21          cloud_cover_range  4.967</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 22 growing_season_temperature  5.220</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 23    temperature_seasonality  6.711</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 24              solar_rad_max  6.981</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 25            cloud_cover_min  9.341</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 26            temperature_max  9.371</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 27               humidity_max  9.400</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> 28             solar_rad_mean 10.671</span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Blas M. Benito.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

